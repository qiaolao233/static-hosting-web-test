import{d as l,o as d,c as m,r as k,a as f,w as b,b as S,e as r,t as $,n as q,h as I,f as _,g as M,i as v,j as y,u as T,k as h}from"./index-BD0aQYp6.js";import{_ as p}from"./plugin-vueexport-helper-DlAUqK2U.js";const D=["type"],B=l({__name:"wmq-flat-button",props:{type:{default:"button"}},emits:["click"],setup(a,{emit:t}){const s=t;return(o,n)=>(d(),m("button",{type:o.type,class:"wmq-flat-buttom",onClick:n[0]||(n[0]=e=>s("click",e))},[k(o.$slots,"default",{},void 0)],8,D))}}),g=p(B,[["__scopeId","data-v-c7c38cae"]]),w=(a=1e3)=>new Promise(t=>setTimeout(t,a)),x=500,F=l({__name:"message-method",props:{id:{},content:{},offset:{},closeTime:{},onOpen:{type:Function},onDestroy:{type:Function},onClose:{type:Function}},setup(a){const t=a,s=f(),o=f({top:0,transition:`${x/1e3}s`,opacity:1});b(()=>t.offset,e=>{o.value.top=`${e}px`},{immediate:!0});const n=async()=>{var e,c;s.value&&(o.value.top=0,o.value.opacity=0,(e=t.onClose)==null||e.call(t),await w(x),(c=t.onDestroy)==null||c.call(t))};return S(async()=>{await w(t.closeTime??2e3),n()}),(e,c)=>(d(),m("div",{class:"message",style:q(o.value),ref_key:"divRef",ref:s},[r("p",null,$(t.content),1)],4))}}),N=p(F,[["__scopeId","data-v-5c415619"]]),i=[];let E=0;const H=a=>{let t=E++;const s=document.createElement("div");document.body.appendChild(s);const o=()=>{_(null,s),s.remove()},n=()=>{R(t)};let e=20;i.forEach(C=>{var u;e+=(((u=C.el)==null?void 0:u.offsetHeight)??0)+16});const c=I(N,{...a,id:t,offset:e,onClose:n,onDestroy:o});return _(c,s),i.push(c),{onClose:()=>{n()}}},R=a=>{const t=i.findIndex(e=>e.component.props.id===a);if(t===-1)return;const o=i[t].el.offsetHeight;i.splice(t,1);const n=i.length;if(n!==0)for(let e=0;e<n;e++){const c=parseInt(i[e].el.style.top,10)-o-16;i[e].component.props.offset=c}},V={class:"home-w"},O={class:"home-container"},W=l({__name:"index",setup(a){const t=T(),s=()=>{t.push("/no-server")},o=()=>{H({content:"服务器模式未开发",closeTime:1e3})};return(n,e)=>(d(),m("div",V,[r("div",O,[r("form",{class:"form-one",onSubmit:e[0]||(e[0]=M(()=>{},["prevent"]))},[v(g,{onClick:s},{default:y(()=>e[1]||(e[1]=[h("无服务器模式")])),_:1}),v(g,{onClick:o},{default:y(()=>e[2]||(e[2]=[h(" 有服务器模式 ")])),_:1})],32)])]))}}),P=p(W,[["__scopeId","data-v-92392afa"]]);export{P as default};
