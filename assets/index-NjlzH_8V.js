import{d as y,p as r,v,q as h,o as _,c as g,e as x,t as w,x as C,y as D,z as f}from"./index-CL20cr0g.js";/* empty css                                                      */import{_ as M}from"./plugin-vueexport-helper-DlAUqK2U.js";const m=(a=1e3)=>new Promise(e=>setTimeout(e,a)),p=500,q=y({__name:"message-method",props:{id:{},content:{},offset:{},closeTime:{},onOpen:{type:Function},onDestroy:{type:Function},onClose:{type:Function}},setup(a){const e=a,n=r(),o=r({top:0,transition:`${p/1e3}s`,opacity:1});v(()=>e.offset,t=>{o.value.top=`${t}px`},{immediate:!0});const s=async()=>{var t,c;n.value&&(o.value.top=0,o.value.opacity=0,(t=e.onClose)==null||t.call(e),await m(p),(c=e.onDestroy)==null||c.call(e))};return h(async()=>{await m(e.closeTime??2e3),s()}),(t,c)=>(_(),g("div",{class:"message",style:C(o.value),ref_key:"divRef",ref:n},[x("p",null,w(e.content),1)],4))}}),E=M(q,[["__scopeId","data-v-c8a8ba39"]]),d=16,i=[];let T=0;const I=a=>{let e=T++;const n=document.createElement("div");document.body.appendChild(n);const o=()=>{f(null,n),n.remove()},s=()=>{$(e)};let t=20;i.forEach(u=>{var l;t+=(((l=u.el)==null?void 0:l.offsetHeight)??0)+d});const c=D(E,{...a,id:e,offset:t,onClose:s,onDestroy:o});return f(c,n),i.push(c),{onClose:()=>{s()}}},$=a=>{const e=i.findIndex(s=>s.component.props.id===a);if(e===-1||(i.splice(e,1),i.length===0))return;let o=20;i.forEach(s=>{var t;s.component.props.offset=o,o+=(((t=s.el)==null?void 0:t.offsetHeight)??0)+d})};export{I as $};
